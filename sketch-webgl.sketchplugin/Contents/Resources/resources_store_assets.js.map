{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/store/assets.js","webpack:///./resources/store/groupAssets.js","webpack:///./resources/store/imageAssets.js","webpack:///./resources/store/shapeAssets.js"],"names":["clearLayerStyles","layer","page","Promise","resolve","reject","style","transform","type","textColor","sketchObject","setTextBehaviour","parent","opacity","borders","fills","shadows","innerShadows","blur","blurType","radius","motionAngle","center","x","y","enabled","flippedHorizontally","flippedVertically","rotation","generateImageAsset","sketch","id","prefix","scale","buffer","formats","scales","output","bufferImg","Image","image","base64","nsdata","base64EncodedStringWithOptions","base64String","src","createGradientBorderImage","border","gradientOpacity","padding","position","thickness","gradientImage","ShapePath","frame","Object","assign","width","height","fillType","gradient","then","imageAsset","remove","createGradientFillImage","createPatternFillImage","pattern","fillOpacity","patternImage","color","processLayerBorderGradient","borderIndex","contextSettings","gradientBorderImage","processLayerFillGradient","fill","fillIndex","gradientFillImage","processLayerFillPattern","patternFillImage","processLayerFill","layerImage","processLayerFills","promises","forEach","push","all","processLayerBorder","processLayerBorders","processLayer","layerImages","processImageLayerAssets","imageLayerImages","processShapeLayerAssets","shapeLayerImages","processGroupLayerAssets","groupLayerImages","processLayers","layers","getAssets","artboard","images","reduce","imageArray","layerImageArray","processLayerImage","baseImage","fillImages","newImages","filter","fillImage","borderImages","borderImage"],"mappings":"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","file":"resources_store_assets.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./resources/store/assets.js\");\n","import processImageLayerAssets from './imageAssets';\nimport processShapeLayerAssets from './shapeAssets';\nimport processGroupLayerAssets from './groupAssets';\nexport const clearLayerStyles = ({ layer, page }) => {\n    return new Promise((resolve, reject) => {\n        const { style, transform } = layer;\n        if (layer.type === 'Text') {\n            style.textColor = '#000000ff';\n            layer.sketchObject.setTextBehaviour(0);\n        }\n        // @ts-ignore\n        layer.parent = page;\n        style.opacity = 1;\n        style.borders = [];\n        style.fills = [];\n        style.shadows = [];\n        style.innerShadows = [];\n        style.blur = {\n            blurType: 'Gaussian',\n            radius: 0,\n            motionAngle: 0,\n            center: { x: 0, y: 0 },\n            enabled: false\n        };\n        transform.flippedHorizontally = false;\n        transform.flippedVertically = false;\n        transform.rotation = 0;\n        resolve(layer);\n    });\n};\nexport const generateImageAsset = ({ layer, sketch, id, prefix, scale }) => {\n    return new Promise((resolve, reject) => {\n        // create buffer from layer\n        const buffer = sketch.export(layer, {\n            formats: 'png',\n            scales: scale ? scale : '1',\n            output: false,\n            ['save-for-web']: true\n        });\n        // create image layer from buffer\n        const bufferImg = new sketch.Image({\n            image: buffer\n        });\n        // get base64 from image layer nsdata\n        const base64 = bufferImg.image.nsdata.base64EncodedStringWithOptions(0);\n        // create base64 string\n        const base64String = `data:image/png;base64,${base64}`;\n        // return final image\n        resolve({\n            id: prefix ? `${prefix}${id}` : id,\n            src: base64String,\n        });\n    });\n};\nconst createGradientBorderImage = ({ page, layer, border, gradientOpacity, sketch, prefix }) => {\n    return new Promise((resolve, reject) => {\n        const padding = () => {\n            switch (border.position) {\n                case 'Outside':\n                    return border.thickness;\n                case 'Center':\n                    return border.thickness / 2;\n                case 'Inside':\n                    return 0;\n            }\n        };\n        // create new layer with gradient\n        const gradientImage = new sketch.ShapePath({\n            parent: page,\n            frame: Object.assign(Object.assign({}, layer.frame), { width: layer.frame.width + padding(), height: layer.frame.height + padding() }),\n            style: {\n                fills: [{\n                        fillType: 'Gradient',\n                        gradient: border.gradient\n                    }],\n                borders: [],\n                opacity: gradientOpacity\n            }\n        });\n        // export image to temp dir\n        generateImageAsset({\n            layer: gradientImage,\n            sketch: sketch,\n            id: layer.id,\n            prefix: prefix\n        })\n            .then((imageAsset) => {\n            // remove image from page\n            gradientImage.remove();\n            // return final image\n            resolve(imageAsset);\n        });\n    });\n};\nconst createGradientFillImage = ({ page, layer, gradient, gradientOpacity, sketch, prefix }) => {\n    return new Promise((resolve, reject) => {\n        // create new layer with gradient\n        const gradientImage = new sketch.ShapePath({\n            parent: page,\n            frame: layer.frame,\n            style: {\n                fills: [{\n                        fillType: 'Gradient',\n                        gradient: gradient\n                    }],\n                borders: [],\n                opacity: gradientOpacity\n            }\n        });\n        // export image to temp dir\n        generateImageAsset({\n            layer: gradientImage,\n            sketch: sketch,\n            id: layer.id,\n            prefix: prefix\n        })\n            .then((imageAsset) => {\n            // remove image from page\n            gradientImage.remove();\n            // return final image\n            resolve(imageAsset);\n        });\n    });\n};\nconst createPatternFillImage = ({ page, layer, pattern, fillOpacity, sketch, prefix }) => {\n    return new Promise((resolve, reject) => {\n        // create new layer with pattern\n        // add transparent border to include any layer whitespace\n        const patternImage = new sketch.ShapePath({\n            parent: page,\n            frame: layer.frame,\n            style: {\n                fills: [{\n                        fillType: 'Pattern',\n                        pattern: pattern\n                    }],\n                borders: [{\n                        fillType: 'Color',\n                        position: 'Inside',\n                        color: '#00000001'\n                    }],\n                opacity: fillOpacity\n            }\n        });\n        // generate base64 image from layer\n        generateImageAsset({\n            layer: patternImage,\n            sketch: sketch,\n            id: layer.id,\n            prefix: prefix\n        })\n            .then((imageAsset) => {\n            // remove image from page\n            patternImage.remove();\n            // return final base64 image\n            resolve(imageAsset);\n        });\n    });\n};\nconst processLayerBorderGradient = ({ page, layer, border, borderIndex, sketch }) => {\n    return new Promise((resolve, reject) => {\n        createGradientBorderImage({\n            page: page,\n            layer: layer,\n            border: border,\n            gradientOpacity: border.sketchObject.contextSettings().opacity(),\n            sketch: sketch,\n            prefix: `[border-${borderIndex}]`\n        })\n            .then((gradientBorderImage) => {\n            resolve(gradientBorderImage);\n        });\n    });\n};\nconst processLayerFillGradient = ({ page, layer, fill, fillIndex, sketch }) => {\n    return new Promise((resolve, reject) => {\n        createGradientFillImage({\n            page: page,\n            layer: layer,\n            gradient: fill.gradient,\n            gradientOpacity: fill.sketchObject.contextSettings().opacity(),\n            sketch: sketch,\n            prefix: `[fill-${fillIndex}]`\n        })\n            .then((gradientFillImage) => {\n            resolve(gradientFillImage);\n        });\n    });\n};\nconst processLayerFillPattern = ({ page, layer, fill, fillIndex, sketch }) => {\n    return new Promise((resolve, reject) => {\n        if (fill.pattern.image) {\n            createPatternFillImage({\n                page: page,\n                layer: layer,\n                pattern: fill.pattern,\n                fillOpacity: fill.sketchObject.contextSettings().opacity(),\n                sketch: sketch,\n                prefix: `[fill-${fillIndex}]`\n            })\n                .then((patternFillImage) => {\n                resolve(patternFillImage);\n            });\n        }\n        else {\n            resolve(null);\n        }\n    });\n};\nconst processLayerFill = ({ page, layer, fill, fillIndex, sketch }) => {\n    return new Promise((resolve, reject) => {\n        switch (fill.fillType) {\n            case 'Pattern':\n                processLayerFillPattern({\n                    page: page,\n                    layer: layer,\n                    fill: fill,\n                    fillIndex: fillIndex,\n                    sketch: sketch\n                })\n                    .then((layerImage) => {\n                    resolve(layerImage);\n                });\n                break;\n            case 'Gradient':\n                processLayerFillGradient({\n                    page: page,\n                    layer: layer,\n                    fill: fill,\n                    fillIndex: fillIndex,\n                    sketch: sketch\n                })\n                    .then((layerImage) => {\n                    resolve(layerImage);\n                });\n                break;\n            case 'Color':\n                resolve(null);\n                break;\n        }\n    });\n};\nexport const processLayerFills = ({ page, layer, sketch, fills }) => {\n    let promises = [];\n    fills.forEach((fill, fillIndex) => {\n        if (fill.enabled) {\n            promises.push(processLayerFill({\n                page: page,\n                layer: layer,\n                fill: fill,\n                fillIndex: fillIndex,\n                sketch: sketch\n            }));\n        }\n    });\n    return Promise.all(promises);\n};\nconst processLayerBorder = ({ page, layer, border, borderIndex, sketch }) => {\n    return new Promise((resolve, reject) => {\n        switch (border.fillType) {\n            case 'Gradient':\n                processLayerBorderGradient({\n                    page: page,\n                    layer: layer,\n                    border: border,\n                    borderIndex: borderIndex,\n                    sketch: sketch\n                })\n                    .then((layerImage) => {\n                    resolve(layerImage);\n                });\n                break;\n            case 'Pattern':\n            case 'Color':\n                resolve(null);\n                break;\n        }\n    });\n};\nexport const processLayerBorders = ({ page, layer, sketch, borders }) => {\n    let promises = [];\n    borders.forEach((border, borderIndex) => {\n        if (border.enabled) {\n            promises.push(processLayerBorder({\n                page: page,\n                layer: layer,\n                border: border,\n                borderIndex: borderIndex,\n                sketch: sketch\n            }));\n        }\n    });\n    return Promise.all(promises);\n};\nconst processLayer = ({ page, layer, sketch }) => {\n    return new Promise((resolve, reject) => {\n        const layerImages = [];\n        switch (layer.type) {\n            case 'Image':\n                processImageLayerAssets({\n                    page: page,\n                    layer: layer,\n                    sketch: sketch\n                })\n                    .then((imageLayerImages) => {\n                    layerImages.push(...imageLayerImages);\n                })\n                    .finally(() => {\n                    resolve(layerImages);\n                });\n                break;\n            case 'Shape':\n            case 'ShapePath':\n                processShapeLayerAssets({\n                    page: page,\n                    layer: layer,\n                    sketch: sketch\n                })\n                    .then((shapeLayerImages) => {\n                    layerImages.push(...shapeLayerImages);\n                })\n                    .finally(() => {\n                    resolve(layerImages);\n                });\n                break;\n            case 'Group':\n                processGroupLayerAssets({\n                    page: page,\n                    layer: layer,\n                    sketch: sketch\n                })\n                    .then((groupLayerImages) => {\n                    layerImages.push(...groupLayerImages);\n                })\n                    .finally(() => {\n                    resolve(layerImages);\n                });\n                break;\n            default:\n                resolve(layerImages);\n        }\n    });\n};\nexport const processLayers = ({ page, layers, sketch }) => {\n    const promises = [];\n    layers.forEach((layer) => {\n        promises.push(processLayer({\n            page: page,\n            layer: layer,\n            sketch: sketch\n        }));\n    });\n    return Promise.all(promises);\n};\nexport const getAssets = ({ page, artboard, sketch }) => {\n    return new Promise((resolve, reject) => {\n        processLayers({\n            page: page,\n            layers: artboard.layers,\n            sketch: sketch\n        })\n            .then((layerImages) => {\n            const images = layerImages.reduce((imageArray, layerImageArray) => {\n                return [...imageArray, ...layerImageArray];\n            }, []);\n            resolve(images);\n        });\n    });\n};\nexport default getAssets;\n","import { processLayers } from './assets';\nconst processGroupLayerAssets = ({ page, layer, sketch }) => {\n    return new Promise((resolve, reject) => {\n        const layerImages = [];\n        processLayers({\n            page: page,\n            layers: layer.layers,\n            sketch: sketch\n        })\n            .then((groupLayerImages) => {\n            const images = groupLayerImages.reduce((imageArray, layerImageArray) => {\n                return [...imageArray, ...layerImageArray];\n            }, []);\n            layerImages.push(...images);\n        })\n            .finally(() => {\n            resolve(layerImages);\n        });\n    });\n};\nexport default processGroupLayerAssets;\n","import { generateImageAsset, processLayerFills, processLayerBorders } from './assets';\nconst processLayerImage = ({ page, layer, sketch }) => {\n    return new Promise((resolve, reject) => {\n        // create image layer from image date\n        const baseImage = new sketch.Image({\n            image: layer.image,\n            frame: layer.frame,\n            parent: page\n        });\n        generateImageAsset({\n            layer: baseImage,\n            sketch: sketch,\n            id: layer.id,\n            prefix: '[image]'\n        })\n            .then((imageAsset) => {\n            // remove asset artboard from page\n            baseImage.remove();\n            // return base64 image\n            resolve(imageAsset);\n        });\n    });\n};\nconst processImageLayerAssets = ({ page, layer, sketch }) => {\n    return new Promise((resolve, reject) => {\n        const { style } = layer;\n        const { fills, borders, shadows, innerShadows } = style;\n        const layerImages = [];\n        processLayerImage({\n            page: page,\n            layer: layer,\n            sketch: sketch\n        })\n            .then((layerImage) => {\n            layerImages.push(layerImage);\n            return processLayerFills({\n                page: page,\n                layer: layer,\n                sketch: sketch,\n                fills: fills\n            });\n        })\n            .then((fillImages) => {\n            const newImages = fillImages.filter(fillImage => fillImage);\n            layerImages.push(...newImages);\n            return processLayerBorders({\n                page: page,\n                layer: layer,\n                sketch: sketch,\n                borders: borders\n            });\n        })\n            .then((borderImages) => {\n            const newImages = borderImages.filter(borderImage => borderImage);\n            layerImages.push(...newImages);\n        })\n            .finally(() => {\n            resolve(layerImages);\n        });\n    });\n};\nexport default processImageLayerAssets;\n","import { processLayerFills, processLayerBorders } from './assets';\nconst processShapeLayerAssets = ({ page, layer, sketch }) => {\n    return new Promise((resolve, reject) => {\n        const { style } = layer;\n        const { fills, borders, shadows, innerShadows } = style;\n        const layerImages = [];\n        processLayerFills({\n            page: page,\n            layer: layer,\n            sketch: sketch,\n            fills: fills\n        })\n            .then((fillImages) => {\n            const newImages = fillImages.filter(fillImage => fillImage);\n            layerImages.push(...newImages);\n            return processLayerBorders({\n                page: page,\n                layer: layer,\n                sketch: sketch,\n                borders: borders\n            });\n        })\n            .then((borderImages) => {\n            const newImages = borderImages.filter(borderImage => borderImage);\n            layerImages.push(...newImages);\n        })\n            .finally(() => {\n            resolve(layerImages);\n        });\n    });\n};\nexport default processShapeLayerAssets;\n"],"sourceRoot":""}